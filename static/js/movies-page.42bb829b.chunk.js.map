{"version":3,"sources":["servieces/movies-api.js","components/MovieList/MovieList.module.scss","components/MovieList/MovieList.js","components/Searchbar/Searchbar.module.scss","../node_modules/query-string/index.js","../node_modules/strict-uri-encode/index.js","components/Searchbar/Searchbar.js","pages/MoviesPage.js"],"names":["BASE_URL","MY_KEY","moviesApi","fetchMovies","axios","get","then","response","data","results","searchMovies","searchQuery","searchMovieDetailsById","id","searchMovieCastById","cast","searchMovieReviewsById","module","exports","withRouter","movies","location","className","styles","list","map","movie","link","to","pathname","state","from","search","title","name","strictUriEncode","require","objectAssign","encode","value","opts","strict","encodeURIComponent","keysSorter","input","Array","isArray","sort","Object","keys","a","b","Number","key","extract","str","split","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","concat","parserForArrayFormat","ret","create","trim","forEach","param","parts","shift","val","length","join","decodeURIComponent","reduce","Boolean","stringify","obj","index","encoderForArrayFormat","slice","val2","push","filter","x","c","charCodeAt","toString","toUpperCase","Searchbar","query","handleChange","event","setState","currentTarget","handleSubmit","preventDefault","props","onSubmit","form","this","type","autoComplete","autoFocus","placeholder","onChange","btn","Component","MoviesPage","onChangeQuery","prevProps","prevState","history","console","log","queryParams","values","queryString","MovieList"],"mappings":"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","file":"static/js/movies-page.42bb829b.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst MY_KEY = '92dbea49aa4406146839d70707aaf148';\r\n\r\nconst moviesApi = {\r\n  fetchMovies() {\r\n    return axios\r\n      .get(`${BASE_URL}/trending/all/day?api_key=${MY_KEY}`)\r\n      .then(response => response.data.results);\r\n  },\r\n\r\n  searchMovies(searchQuery) {\r\n    return axios\r\n      .get(\r\n        `${BASE_URL}/search/movie?api_key=${MY_KEY}&query=${searchQuery}&language=en-US&page=1&include_adult=false`,\r\n      )\r\n      .then(response => response.data.results);\r\n  },\r\n  searchMovieDetailsById(id) {\r\n    return axios\r\n      .get(`${BASE_URL}/movie/${id}?api_key=${MY_KEY}&language=en-US`)\r\n      .then(response => response.data);\r\n  },\r\n  searchMovieCastById(id) {\r\n    return axios\r\n      .get(`${BASE_URL}/movie/${id}/credits?api_key=${MY_KEY}&language=en-US`)\r\n      .then(response => response.data.cast);\r\n  },\r\n  searchMovieReviewsById(id) {\r\n    return axios\r\n      .get(\r\n        `${BASE_URL}/movie/${id}/reviews?api_key=${MY_KEY}&language=en-US&page=1`,\r\n      )\r\n      .then(response => response.data.results);\r\n  },\r\n};\r\nexport default moviesApi;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieList_list__2S-Ec\",\"link\":\"MovieList_link__3Qn78\"};","import { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './MovieList.module.scss';\r\n\r\nconst MovieList = ({ movies, location, searchQuery }) => {\r\n  return (\r\n    <ul className={styles.list}>\r\n      {movies.map(movie => (\r\n        <li key={movie.id}>\r\n          <Link\r\n            className={styles.link}\r\n            to={{\r\n              pathname: `/movies/${movie.id}`,\r\n              state: { from: location },\r\n              search: searchQuery,\r\n            }}\r\n          >\r\n            {movie?.title || movie.name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nMovieList.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      title: PropTypes.string,\r\n      name: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(MovieList);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__14-AE\",\"input\":\"Searchbar_input__YHQWG\",\"btn\":\"Searchbar_btn__3tgqB\"};","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.scss';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  handleChange = event => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <form className={styles.form} onSubmit={this.handleSubmit}>\r\n        <label>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search movies\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </label>\r\n        <button className={styles.btn} type=\"submit\">\r\n          Search\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moviesApi from '../servieces/movies-api';\r\nimport Searchbar from '../components/Searchbar';\r\nimport MovieList from '../components/MovieList';\r\nimport queryString from 'query-string';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    searchQuery: '',\r\n  };\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n    });\r\n  };\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    try {\r\n      if (prevState.searchQuery !== this.state.searchQuery) {\r\n        const { searchQuery } = this.state;\r\n        const { location } = this.props;\r\n        const data = await moviesApi.searchMovies(searchQuery);\r\n        this.setState({ movies: data });\r\n\r\n        this.props.history.push({\r\n          pathname: location.pathname,\r\n          search: `query=${searchQuery}`,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    const { location } = this.props;\r\n    const queryParams = Object.values(queryString.parse(location.search)).join(\r\n      '',\r\n    );\r\n    if (!queryParams) return;\r\n    this.onChangeQuery(queryParams);\r\n  }\r\n\r\n  render() {\r\n    const { movies, searchQuery } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        {movies.length > 0 && (\r\n          <MovieList movies={movies} searchQuery={searchQuery} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMoviesPage.propTypes = {\r\n  movies: PropTypes.array,\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}