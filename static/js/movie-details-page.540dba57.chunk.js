(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{37:function(e,t,a){"use strict";var n=a(42),r=a.n(n),c="https://api.themoviedb.org/3",i="92dbea49aa4406146839d70707aaf148",s={fetchMovies:function(){return r.a.get("".concat(c,"/trending/all/day?api_key=").concat(i)).then((function(e){return e.data.results}))},searchMovies:function(e){return r.a.get("".concat(c,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},searchMovieDetailsById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data}))},searchMovieCastById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data.cast}))},searchMovieReviewsById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(e){return e.data.results}))}};t.a=s},75:function(e,t,a){e.exports={img:"CastItem_img__1iy2l",name:"CastItem_name__TNxLL"}},76:function(e,t,a){e.exports={list:"CastList_list__LHqDT",link:"CastList_link__2XPVS"}},77:function(e,t,a){e.exports={name:"ReviewItem_name__2oLAD"}},78:function(e,t,a){e.exports={container:"ReviewsList_container__2Cxej",link:"ReviewsList_link__2x1AU"}},79:function(e,t,a){e.exports={btn:"MovieCard_btn__2Bhcn",movie:"MovieCard_movie__3cdmX",movie__img:"MovieCard_movie__img__1rKPb",movie__info:"MovieCard_movie__info__3DAnE",movie__title:"MovieCard_movie__title__2ejhq",info:"MovieCard_info__226uX",movie__raiting:"MovieCard_movie__raiting___rNtZ",movie__desc:"MovieCard_movie__desc__37bJc",movie__overview:"MovieCard_movie__overview__3Q9S2",movie__genres:"MovieCard_movie__genres__3qY-V",movie__addInfo:"MovieCard_movie__addInfo__Gyxui",list:"MovieCard_list__1zrMF",link:"MovieCard_link__3GHTZ",navLink:"MovieCard_navLink__3gQdx",activeNavLink:"MovieCard_activeNavLink__1r7_N",ratingData:"MovieCard_ratingData__UNmah"}},81:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var i=a(40),s=a.n(i),o=a(41),l=a(35),u=a(36),v=a(39),h=a(38),m=a(0),_=a(37),p=a(9),j=a(2),d=a.p+"static/media/default.2e01288c.jpg",b=function(e){return e?"".concat("https://themoviedb.org/t/p/w500").concat(e):d},f=a(75),O=a.n(f),g=a(1),x=function(e){var t=e.profile_path,a=e.name,n=e.character;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{className:O.a.img,src:b(t),alt:a}),Object(g.jsx)("p",{className:O.a.name,children:a}),Object(g.jsxs)("p",{children:["Character: ",n]})]})},y=a(76),N=a.n(y),k=function(e){var t=e.cast;return Object(g.jsx)("ul",{className:N.a.list,children:t.length>0?t.map((function(e){var t=e.cast_id,a=e.profile_path,n=e.name,r=e.character;return Object(g.jsx)("li",{className:N.a.link,children:Object(g.jsx)(x,{profile_path:a,name:n,character:r})},t)})):Object(g.jsx)("p",{children:"NO CAST"})})},w=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieCastById(Number(t));case 4:a=e.sent,this.setState({cast:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return Object(g.jsx)(k,{cast:e})}}]),a}(m.PureComponent),C=a(77),M=a.n(C),D=function(e){var t=e.author,a=e.content;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{className:M.a.name,children:["Author: ",t]}),Object(g.jsxs)("p",{className:M.a.contant,children:['"',a,'"']})]})},I=a(78),L=a.n(I),S=function(e){var t=e.reviews;return Object(g.jsx)("ul",{className:L.a.container,children:t.length>0?t.map((function(e){var t=e.id,a=e.author,n=e.content;return Object(g.jsx)("li",{className:L.a.link,children:Object(g.jsx)(D,{author:a,content:n})},t)})):Object(g.jsx)("p",{className:L.a.text,children:"We don't have reviews for this movie. "})})},P=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieReviewsById(Number(t));case 4:a=e.sent,this.setState({reviews:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(g.jsx)(S,{reviews:e})}}]),a}(m.PureComponent),U=a(7),A=a(79),B=a.n(A),R=(a(15),function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleGoBack=function(){var t=e.props,a=t.location,n=t.history,r=a.search.split("").slice(1).join("");a.state?n.push(a.state.from):a.search?n.push({pathname:U.a.movies,search:"query=".concat(r)}):n.push({pathname:U.a.home})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.imgUrl,a=e.title,n=e.descr,r=e.genres,i=e.releaseDate,s=e.rating,o=e.match,l=e.location;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("button",{type:"button",className:B.a.btn,onClick:this.handleGoBack,children:"Go back"}),Object(g.jsxs)("div",{className:B.a.movie,children:[Object(g.jsx)("img",{className:B.a.movie__img,src:t,alt:a}),Object(g.jsxs)("div",{className:B.a.movie__info,children:[Object(g.jsxs)("h2",{className:B.a.movie__title,children:[a,Object(g.jsxs)("span",{children:[" (",i,")"]})]}),s?Object(g.jsxs)("p",{className:B.a.movie__raiting,children:["Raiting:",Object(g.jsxs)("span",{className:B.a.ratingData,children:[s," "]})]}):null,Object(g.jsx)("h3",{className:B.a.movie__overview,children:"Overview"}),Object(g.jsx)("p",{className:B.a.movie__desc,children:n}),Object(g.jsx)("h4",{className:B.a.movie__genres,children:"Genres"}),Object(g.jsx)("p",{children:r})]})]})]}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("p",{className:B.a.info,children:"Additional information"}),Object(g.jsxs)("ul",{className:B.a.list,children:[Object(g.jsx)("li",{className:B.a.link,children:Object(g.jsx)(p.c,{className:B.a.navLink,activeClassName:B.a.activeNavLink,to:{pathname:"".concat(o.url,"/cast"),search:l.search},children:"Cast"})}),Object(g.jsx)("li",{className:B.a.link,children:Object(g.jsx)(p.c,{className:B.a.navLink,activeClassName:B.a.activeNavLink,to:{pathname:"".concat(o.url,"/reviews"),search:l.search},children:"Reviews"})})]})]}),Object(g.jsxs)(j.d,{children:[Object(g.jsx)(j.b,{path:U.a.cast,render:function(e){return Object(g.jsx)(w,c({},e))}}),Object(g.jsx)(j.b,{path:U.a.reviews,render:function(e){return Object(g.jsx)(P,c({},e))}})]})]})}}]),a}(m.Component)),G=function(e){return e.length?e.map((function(e){return e.name})).join(" "):"NO GENRE"},q=function(e){Object(v.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imgUrl:"",title:"",descr:"",genres:"",releaseDate:"",rating:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieDetailsById(Number(t));case 4:a=e.sent,this.setState({imgUrl:b(a.poster_path),title:a.title,descr:a.overview,genres:G(a.genres),releaseDate:String(Number.parseInt(a.release_date))||String(Number.parseInt(a.first_air_date)),rating:String(a.vote_average)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.match.params.movieId,t=this.state,a=t.imgUrl,n=t.title,r=t.descr,i=t.genres,s=t.releaseDate,o=t.rating;return Object(g.jsx)(R,c(c({},this.props),{},{movieId:e,imgUrl:a,title:n,descr:r,genres:i,releaseDate:s,rating:o}))}}]),a}(m.Component);t.default=q}}]);
//# sourceMappingURL=movie-details-page.540dba57.chunk.js.map