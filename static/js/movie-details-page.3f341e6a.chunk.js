(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{37:function(e,t,a){"use strict";var n=a(42),r=a.n(n),c="https://api.themoviedb.org/3",i="92dbea49aa4406146839d70707aaf148",s={fetchMovies:function(){return r.a.get("".concat(c,"/trending/all/day?api_key=").concat(i)).then((function(e){return e.data.results}))},searchMovies:function(e){return r.a.get("".concat(c,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},searchMovieDetailsById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data}))},searchMovieCastById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=en-US")).then((function(e){return e.data.cast}))},searchMovieReviewsById:function(e){return r.a.get("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1")).then((function(e){return e.data.results}))}};t.a=s},75:function(e,t,a){e.exports={img:"CastItem_img__1iy2l",name:"CastItem_name__TNxLL"}},76:function(e,t,a){e.exports={list:"CastList_list__LHqDT",link:"CastList_link__2XPVS"}},77:function(e,t,a){e.exports={name:"ReviewItem_name__2oLAD"}},78:function(e,t,a){e.exports={container:"ReviewsList_container__2Cxej",link:"ReviewsList_link__2x1AU"}},79:function(e,t,a){e.exports={btn:"MovieCard_btn__2Bhcn",svg:"MovieCard_svg__2XV1h",movie:"MovieCard_movie__3cdmX",movie__img:"MovieCard_movie__img__1rKPb",movie__info:"MovieCard_movie__info__3DAnE",movie__title:"MovieCard_movie__title__2ejhq",info:"MovieCard_info__226uX",movie__raiting:"MovieCard_movie__raiting___rNtZ",movie__desc:"MovieCard_movie__desc__37bJc",movie__overview:"MovieCard_movie__overview__3Q9S2",movie__genres:"MovieCard_movie__genres__3qY-V",movie__addInfo:"MovieCard_movie__addInfo__Gyxui",list:"MovieCard_list__1zrMF",link:"MovieCard_link__3GHTZ",navLink:"MovieCard_navLink__3gQdx",activeNavLink:"MovieCard_activeNavLink__1r7_N",ratingData:"MovieCard_ratingData__UNmah",message:"MovieCard_message__mATRT"}},81:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var i=a(40),s=a.n(i),o=a(41),l=a(35),v=a(36),u=a(39),h=a(38),m=a(0),_=a(37),j=a(9),p=a(2),d=a.p+"static/media/default.2e01288c.jpg",b=function(e){return e?"".concat("https://themoviedb.org/t/p/w500").concat(e):d},f=a(75),g=a.n(f),O=a(1),x=function(e){var t=e.profile_path,a=e.name,n=e.character;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{className:g.a.img,src:b(t),alt:a}),Object(O.jsx)("p",{className:g.a.name,children:a}),Object(O.jsxs)("p",{children:["Character: ",n]})]})},N=a(76),w=a.n(N),y=function(e){var t=e.cast;return Object(O.jsx)("ul",{className:w.a.list,children:t.length>0?t.map((function(e){var t=e.cast_id,a=e.profile_path,n=e.name,r=e.character;return Object(O.jsx)("li",{className:w.a.link,children:Object(O.jsx)(x,{profile_path:a,name:n,character:r})},t)})):Object(O.jsx)("p",{children:"We don't have cast for this movie."})})},k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieCastById(Number(t));case 4:a=e.sent,this.setState({cast:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return Object(O.jsx)(y,{cast:e})}}]),a}(m.PureComponent),C=a(77),M=a.n(C),I=function(e){var t=e.author,a=e.content;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{className:M.a.name,children:["Author: ",t]}),Object(O.jsxs)("p",{className:M.a.contant,children:['"',a,'"']})]})},D=a(78),L=a.n(D),S=function(e){var t=e.reviews;return Object(O.jsx)("ul",{className:L.a.container,children:t.length>0?t.map((function(e){var t=e.id,a=e.author,n=e.content;return Object(O.jsx)("li",{className:L.a.link,children:Object(O.jsx)(I,{author:a,content:n})},t)})):Object(O.jsx)("p",{className:L.a.text,children:"We don't have reviews for this movie. "})})},P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieReviewsById(Number(t));case 4:a=e.sent,this.setState({reviews:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(O.jsx)(S,{reviews:e})}}]),a}(m.PureComponent),A=a(7),B=a(79),U=a.n(B),R=(a(15),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleGoBack=function(){var t=e.props,a=t.location,n=t.history,r=a.search.split("").slice(1).join("");a.state?n.push(a.state.from):a.search?n.push({pathname:A.a.movies,search:"query=".concat(r)}):n.push({pathname:A.a.home})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.imgUrl,a=e.title,n=e.descr,r=e.genres,i=e.releaseDate,s=e.rating,o=e.match,l=e.location,v=e.movie;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("button",{type:"button",className:U.a.btn,onClick:this.handleGoBack,children:[Object(O.jsx)("svg",{id:"Layer",className:U.a.svg,enableBackground:"new 0 0 64 64",height:"20",viewBox:"0 0 64 64",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"})}),Object(O.jsx)("span",{children:"Go back"})]}),v?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:U.a.movie,children:[Object(O.jsx)("img",{className:U.a.movie__img,src:t,alt:a}),Object(O.jsxs)("div",{className:U.a.movie__info,children:[Object(O.jsxs)("h2",{className:U.a.movie__title,children:[a,Object(O.jsxs)("span",{children:[" (",i,")"]})]}),s&&0!==Number(s)?Object(O.jsxs)("p",{className:U.a.movie__raiting,children:[Object(O.jsx)("b",{children:"Raiting"}),":",Object(O.jsxs)("span",{className:U.a.ratingData,children:[s," "]})]}):null,Object(O.jsx)("h3",{className:U.a.movie__overview,children:"Overview"}),Object(O.jsx)("p",{className:U.a.movie__desc,children:n}),Object(O.jsx)("h4",{className:U.a.movie__genres,children:"Genres"}),Object(O.jsx)("p",{children:r})]})]})}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("p",{className:U.a.info,children:"Additional information"}),Object(O.jsxs)("ul",{className:U.a.list,children:[Object(O.jsx)("li",{className:U.a.link,children:Object(O.jsx)(j.c,{className:U.a.navLink,activeClassName:U.a.activeNavLink,to:{pathname:"".concat(o.url,"/cast"),search:l.search},children:"Cast"})}),Object(O.jsx)("li",{className:U.a.link,children:Object(O.jsx)(j.c,{className:U.a.navLink,activeClassName:U.a.activeNavLink,to:{pathname:"".concat(o.url,"/reviews"),search:l.search},children:"Reviews"})})]})]}),Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{path:A.a.cast,render:function(e){return Object(O.jsx)(k,c({},e))}}),Object(O.jsx)(p.b,{path:A.a.reviews,render:function(e){return Object(O.jsx)(P,c({},e))}})]})]}):Object(O.jsx)("span",{className:U.a.message,children:"NO INFORMATION ABOUT THIS FILM"})]})}}]),a}(m.Component)),T=function(e){return e.length?e.map((function(e){return e.name})).join(" "):"NO GENRE"},F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:"",imgUrl:"",title:"",descr:"",genres:"",releaseDate:"",rating:""},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,_.a.searchMovieDetailsById(Number(t));case 4:a=e.sent,this.setState({movie:a,imgUrl:b(a.poster_path),title:a.title,descr:a.overview,genres:T(a.genres),releaseDate:String(Number.parseInt(a.release_date))||String(Number.parseInt(a.first_air_date)),rating:String(a.vote_average)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.match.params.movieId,t=this.state,a=t.imgUrl,n=t.title,r=t.descr,i=t.genres,s=t.releaseDate,o=t.rating,l=t.movie;return Object(O.jsx)(R,c(c({},this.props),{},{movie:l,movieId:e,imgUrl:a,title:n,descr:r,genres:i,releaseDate:s,rating:o}))}}]),a}(m.Component);t.default=F}}]);
//# sourceMappingURL=movie-details-page.3f341e6a.chunk.js.map